{"ast":null,"code":"var _jsxFileName = \"/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneysPage.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/JourneysPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction pickLocalFlows() {\n  const out = [];\n  for (let i = 0; i < localStorage.length; i++) {\n    const k = localStorage.key(i);\n    if (!k) continue;\n    // aceitamos qualquer chave cujo valor tenha nodes/edges\n    try {\n      const raw = localStorage.getItem(k);\n      const obj = JSON.parse(raw || 'null');\n      if (obj && Array.isArray(obj.nodes) && Array.isArray(obj.edges)) {\n        out.push({\n          id: obj.id || k,\n          name: obj.name || k,\n          updatedAt: obj.updatedAt || null,\n          _raw: obj,\n          _key: k\n        });\n      }\n    } catch (_) {}\n  }\n  out.sort((a, b) => String(b.updatedAt || '').localeCompare(String(a.updatedAt || '')));\n  return out;\n}\nexport default function JourneysPage() {\n  _s();\n  const [flows, setFlows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  async function load() {\n    setLoading(true);\n    try {\n      // se existir backend\n      const r = await fetch('/api/journeys');\n      if (r.ok) {\n        const arr = await r.json(); // espere [{id,name,updatedAt}]\n        setFlows(arr || []);\n        setLoading(false);\n        return;\n      }\n      throw new Error('no backend');\n    } catch {\n      setFlows(pickLocalFlows());\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    load();\n  }, []);\n  const openFlow = id => {\n    window.location.href = `/journeys/builder?id=${id}`;\n  };\n  const renameFlow = async f => {\n    const name = window.prompt('Novo nome do flow:', f.name);\n    if (!name) return;\n\n    // tenta backend\n    try {\n      const r = await fetch(`/api/journeys/${f.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...f,\n          name\n        })\n      });\n      if (!r.ok) throw new Error();\n      await load();\n      return;\n    } catch {\n      // local\n      const raw = localStorage.getItem(f.id) || localStorage.getItem(f._key || f.id);\n      if (raw) {\n        try {\n          const obj = JSON.parse(raw);\n          obj.name = name;\n          obj.updatedAt = new Date().toISOString();\n          localStorage.setItem(obj.id || f.id, JSON.stringify(obj));\n        } catch {}\n      }\n      setFlows(pickLocalFlows());\n    }\n  };\n  const duplicateFlow = async f => {\n    const newId = `flow_${Date.now()}`;\n    const newObj = {\n      ...(f._raw || {\n        id: f.id,\n        name: f.name,\n        nodes: [],\n        edges: []\n      }),\n      id: newId,\n      name: `${f.name} (copy)`,\n      updatedAt: new Date().toISOString()\n    };\n    try {\n      const r = await fetch('/api/journeys', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newObj)\n      });\n      if (!r.ok) throw new Error();\n      await load();\n      return;\n    } catch {\n      localStorage.setItem(newId, JSON.stringify(newObj));\n      setFlows(pickLocalFlows());\n    }\n  };\n  const deleteFlow = async f => {\n    if (!window.confirm(`Apagar o flow \"${f.name}\"?`)) return;\n    try {\n      const r = await fetch(`/api/journeys/${f.id}`, {\n        method: 'DELETE'\n      });\n      if (!r.ok) throw new Error();\n      await load();\n      return;\n    } catch {\n      localStorage.removeItem(f.id);\n      if (f._key && f._key !== f.id) localStorage.removeItem(f._key);\n      setFlows(pickLocalFlows());\n    }\n  };\n  const createNew = async () => {\n    const name = window.prompt('Nome do novo flow:', 'Novo Flow');\n    const id = `flow_${Date.now()}`;\n    const obj = {\n      id,\n      name: name || 'Novo Flow',\n      nodes: [{\n        id: 'start',\n        type: 'start',\n        position: {\n          x: 140,\n          y: 140\n        },\n        data: {},\n        selectable: true\n      }, {\n        id: 'end',\n        type: 'end',\n        position: {\n          x: 860,\n          y: 140\n        },\n        data: {},\n        selectable: true\n      }],\n      edges: [],\n      updatedAt: new Date().toISOString()\n    };\n    try {\n      const r = await fetch('/api/journeys', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(obj)\n      });\n      if (!r.ok) throw new Error();\n      await load();\n      openFlow(id);\n      return;\n    } catch {\n      localStorage.setItem(id, JSON.stringify(obj));\n      setFlows(pickLocalFlows());\n      openFlow(id);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Journeys\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: createNew,\n        children: \"+ Novo Flow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#64748b'\n      },\n      children: \"Carregando\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this) : flows.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#64748b',\n        marginTop: 12\n      },\n      children: [\"Nenhum flow encontrado. Clique em \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"+ Novo Flow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 45\n      }, this), \" para come\\xE7ar.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              textAlign: 'left',\n              borderBottom: '1px solid #e5e7eb'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: 8\n              },\n              children: \"Nome\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: 8,\n                width: 220\n              },\n              children: \"Atualizado em\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: 8,\n                width: 380\n              },\n              children: \"A\\xE7\\xF5es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: flows.map(f => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              borderBottom: '1px solid #f1f5f9'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 8\n              },\n              children: f.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 8\n              },\n              children: f.updatedAt ? new Date(f.updatedAt).toLocaleString() : '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: () => openFlow(f.id),\n                children: \"Abrir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn secondary\",\n                onClick: () => renameFlow(f),\n                children: \"Renomear\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this), ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: () => duplicateFlow(f),\n                children: \"Duplicar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 21\n              }, this), ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn danger\",\n                onClick: () => deleteFlow(f),\n                children: \"Apagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 19\n            }, this)]\n          }, f.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n}\n_s(JourneysPage, \"Agg6rF54dW5dFc5J8NH1dKPkQV0=\");\n_c = JourneysPage;\nvar _c;\n$RefreshReg$(_c, \"JourneysPage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","pickLocalFlows","out","i","localStorage","length","k","key","raw","getItem","obj","JSON","parse","Array","isArray","nodes","edges","push","id","name","updatedAt","_raw","_key","_","sort","a","b","String","localeCompare","JourneysPage","_s","flows","setFlows","loading","setLoading","load","r","fetch","ok","arr","json","Error","openFlow","window","location","href","renameFlow","f","prompt","method","headers","body","stringify","Date","toISOString","setItem","duplicateFlow","newId","now","newObj","deleteFlow","confirm","removeItem","createNew","type","position","x","y","data","selectable","className","children","style","display","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","onClick","color","marginTop","width","borderCollapse","textAlign","borderBottom","padding","map","toLocaleString","_c","$RefreshReg$"],"sources":["/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneysPage.jsx"],"sourcesContent":["// frontend/src/pages/JourneysPage.jsx\nimport React, { useEffect, useState } from 'react';\n\nfunction pickLocalFlows() {\n  const out = [];\n  for (let i = 0; i < localStorage.length; i++) {\n    const k = localStorage.key(i);\n    if (!k) continue;\n    // aceitamos qualquer chave cujo valor tenha nodes/edges\n    try {\n      const raw = localStorage.getItem(k);\n      const obj = JSON.parse(raw || 'null');\n      if (obj && Array.isArray(obj.nodes) && Array.isArray(obj.edges)) {\n        out.push({\n          id: obj.id || k,\n          name: obj.name || k,\n          updatedAt: obj.updatedAt || null,\n          _raw: obj,\n          _key: k,\n        });\n      }\n    } catch (_) {}\n  }\n  out.sort((a, b) => String(b.updatedAt || '').localeCompare(String(a.updatedAt || '')));\n  return out;\n}\n\nexport default function JourneysPage() {\n  const [flows, setFlows] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  async function load() {\n    setLoading(true);\n    try {\n      // se existir backend\n      const r = await fetch('/api/journeys');\n      if (r.ok) {\n        const arr = await r.json(); // espere [{id,name,updatedAt}]\n        setFlows(arr || []);\n        setLoading(false);\n        return;\n      }\n      throw new Error('no backend');\n    } catch {\n      setFlows(pickLocalFlows());\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => { load(); }, []);\n\n  const openFlow = (id) => {\n    window.location.href = `/journeys/builder?id=${id}`;\n  };\n\n  const renameFlow = async (f) => {\n    const name = window.prompt('Novo nome do flow:', f.name);\n    if (!name) return;\n\n    // tenta backend\n    try {\n      const r = await fetch(`/api/journeys/${f.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ ...f, name }),\n      });\n      if (!r.ok) throw new Error();\n      await load();\n      return;\n    } catch {\n      // local\n      const raw = localStorage.getItem(f.id) || localStorage.getItem(f._key || f.id);\n      if (raw) {\n        try {\n          const obj = JSON.parse(raw);\n          obj.name = name;\n          obj.updatedAt = new Date().toISOString();\n          localStorage.setItem(obj.id || f.id, JSON.stringify(obj));\n        } catch {}\n      }\n      setFlows(pickLocalFlows());\n    }\n  };\n\n  const duplicateFlow = async (f) => {\n    const newId = `flow_${Date.now()}`;\n    const newObj = {\n      ...(f._raw || { id: f.id, name: f.name, nodes: [], edges: [] }),\n      id: newId,\n      name: `${f.name} (copy)`,\n      updatedAt: new Date().toISOString(),\n    };\n\n    try {\n      const r = await fetch('/api/journeys', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(newObj),\n      });\n      if (!r.ok) throw new Error();\n      await load();\n      return;\n    } catch {\n      localStorage.setItem(newId, JSON.stringify(newObj));\n      setFlows(pickLocalFlows());\n    }\n  };\n\n  const deleteFlow = async (f) => {\n    if (!window.confirm(`Apagar o flow \"${f.name}\"?`)) return;\n\n    try {\n      const r = await fetch(`/api/journeys/${f.id}`, { method: 'DELETE' });\n      if (!r.ok) throw new Error();\n      await load();\n      return;\n    } catch {\n      localStorage.removeItem(f.id);\n      if (f._key && f._key !== f.id) localStorage.removeItem(f._key);\n      setFlows(pickLocalFlows());\n    }\n  };\n\n  const createNew = async () => {\n    const name = window.prompt('Nome do novo flow:', 'Novo Flow');\n    const id = `flow_${Date.now()}`;\n    const obj = {\n      id,\n      name: name || 'Novo Flow',\n      nodes: [\n        { id: 'start', type: 'start', position: { x: 140, y: 140 }, data: {}, selectable: true },\n        { id: 'end', type: 'end', position: { x: 860, y: 140 }, data: {}, selectable: true },\n      ],\n      edges: [],\n      updatedAt: new Date().toISOString(),\n    };\n\n    try {\n      const r = await fetch('/api/journeys', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(obj),\n      });\n      if (!r.ok) throw new Error();\n      await load();\n      openFlow(id);\n      return;\n    } catch {\n      localStorage.setItem(id, JSON.stringify(obj));\n      setFlows(pickLocalFlows());\n      openFlow(id);\n    }\n  };\n\n  return (\n    <div className=\"page-content\">\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <h2>Journeys</h2>\n        <button className=\"btn\" onClick={createNew}>+ Novo Flow</button>\n      </div>\n\n      {loading ? (\n        <div style={{ color: '#64748b' }}>Carregando…</div>\n      ) : flows.length === 0 ? (\n        <div style={{ color: '#64748b', marginTop: 12 }}>\n          Nenhum flow encontrado. Clique em <b>+ Novo Flow</b> para começar.\n        </div>\n      ) : (\n        <div style={{ marginTop: 12 }}>\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n            <thead>\n              <tr style={{ textAlign: 'left', borderBottom: '1px solid #e5e7eb' }}>\n                <th style={{ padding: 8 }}>Nome</th>\n                <th style={{ padding: 8, width: 220 }}>Atualizado em</th>\n                <th style={{ padding: 8, width: 380 }}>Ações</th>\n              </tr>\n            </thead>\n            <tbody>\n              {flows.map((f) => (\n                <tr key={f.id} style={{ borderBottom: '1px solid #f1f5f9' }}>\n                  <td style={{ padding: 8 }}>{f.name}</td>\n                  <td style={{ padding: 8 }}>{f.updatedAt ? new Date(f.updatedAt).toLocaleString() : '—'}</td>\n                  <td style={{ padding: 8 }}>\n                    <button className=\"btn\" onClick={() => openFlow(f.id)}>Abrir</button>{' '}\n                    <button className=\"btn secondary\" onClick={() => renameFlow(f)}>Renomear</button>{' '}\n                    <button className=\"btn\" onClick={() => duplicateFlow(f)}>Duplicar</button>{' '}\n                    <button className=\"btn danger\" onClick={() => deleteFlow(f)}>Apagar</button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}