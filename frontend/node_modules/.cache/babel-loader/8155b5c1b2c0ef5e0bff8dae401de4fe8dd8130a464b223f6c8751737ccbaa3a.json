{"ast":null,"code":"var _jsxFileName = \"/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneyBuilder.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/JourneyBuilder.jsx\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport ReactFlow, { addEdge, applyEdgeChanges, applyNodeChanges, Background, Controls, MiniMap, Position, Handle } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst STORAGE_KEY = 'flows_v2';\nconst CURRENT_KEY = 'flows_current_v2';\n\n/* ------------------ Helpers de persistência ------------------ */\nconst sanitizeNodes = list => (list || []).filter(Boolean).map((n, i) => {\n  var _n$position, _n$position2, _n$id;\n  const x = Number(n === null || n === void 0 ? void 0 : (_n$position = n.position) === null || _n$position === void 0 ? void 0 : _n$position.x);\n  const y = Number(n === null || n === void 0 ? void 0 : (_n$position2 = n.position) === null || _n$position2 === void 0 ? void 0 : _n$position2.y);\n  return {\n    id: String((_n$id = n === null || n === void 0 ? void 0 : n.id) !== null && _n$id !== void 0 ? _n$id : `n_${i}`),\n    type: (n === null || n === void 0 ? void 0 : n.type) || 'message',\n    data: (n === null || n === void 0 ? void 0 : n.data) || {\n      label: 'Step'\n    },\n    position: Number.isFinite(x) && Number.isFinite(y) ? {\n      x,\n      y\n    } : {\n      x: 140 + i % 4 * 220,\n      y: 140 + Math.floor(i / 4) * 160\n    },\n    draggable: true,\n    selectable: true\n  };\n});\nconst sanitizeEdges = list => (list || []).filter(Boolean).map((e, i) => {\n  var _e$id;\n  return {\n    id: String((_e$id = e === null || e === void 0 ? void 0 : e.id) !== null && _e$id !== void 0 ? _e$id : `e_${i}`),\n    source: String(e === null || e === void 0 ? void 0 : e.source),\n    target: String(e === null || e === void 0 ? void 0 : e.target),\n    animated: !!(e !== null && e !== void 0 && e.animated),\n    label: e === null || e === void 0 ? void 0 : e.label,\n    selectable: true\n  };\n});\nfunction loadFlows() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    const arr = raw ? JSON.parse(raw) : [];\n    if (!Array.isArray(arr)) return [];\n    return arr.map(f => ({\n      ...f,\n      nodes: sanitizeNodes(f.nodes),\n      edges: sanitizeEdges(f.edges)\n    }));\n  } catch {\n    return [];\n  }\n}\nfunction saveFlows(flows) {\n  const safe = (flows || []).map(f => ({\n    ...f,\n    nodes: sanitizeNodes(f.nodes),\n    edges: sanitizeEdges(f.edges)\n  }));\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(safe));\n  return safe;\n}\nconst ensureStartEnd = flow => {\n  if (!flow) return flow;\n  const hasStart = (flow.nodes || []).some(n => n.type === 'start');\n  const hasEnd = (flow.nodes || []).some(n => n.type === 'end');\n  const extra = [];\n  if (!hasStart) extra.push({\n    id: `start_${Date.now()}`,\n    type: 'start',\n    data: {\n      label: 'Start'\n    },\n    position: {\n      x: 160,\n      y: 100\n    }\n  });\n  if (!hasEnd) extra.push({\n    id: `end_${Date.now() + 1}`,\n    type: 'end',\n    data: {\n      label: 'End'\n    },\n    position: {\n      x: 700,\n      y: 100\n    }\n  });\n  return extra.length ? {\n    ...flow,\n    nodes: [...(flow.nodes || []), ...extra]\n  } : flow;\n};\n/* ------------------------------------------------------------- */\n\n/* ---------------------- Node Components ---------------------- */\nconst box = {\n  padding: 12,\n  border: '1px solid #e5e7eb',\n  borderRadius: 10,\n  background: '#fff',\n  minWidth: 200,\n  boxShadow: '0 1px 2px rgba(0,0,0,0.06)',\n  textAlign: 'center'\n};\nfunction StartNode({\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...box,\n      minWidth: 220\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 800,\n        fontSize: 18\n      },\n      children: \"Start\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: '#6b7280'\n      },\n      children: \"in\\xEDcio do fluxo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Right,\n      style: {\n        background: '#22c55e'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n_c = StartNode;\nfunction EndNode({\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...box,\n      minWidth: 220\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 800,\n        fontSize: 18\n      },\n      children: \"End\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: '#6b7280'\n      },\n      children: \"t\\xE9rmino do fluxo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Left,\n      style: {\n        background: '#ef4444'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n_c2 = EndNode;\nfunction MessageNode({\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...box,\n      textAlign: 'left'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 700,\n        fontSize: 16,\n        marginBottom: 6\n      },\n      children: (data === null || data === void 0 ? void 0 : data.label) || 'Message'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: '#6b7280'\n      },\n      children: [\"Template: \", (data === null || data === void 0 ? void 0 : data.templateName) || '—']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Left,\n      style: {\n        background: '#94a3b8'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Right,\n      style: {\n        background: '#3b82f6'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_c3 = MessageNode;\nfunction ApiNode({\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...box,\n      textAlign: 'left'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 700,\n        fontSize: 16,\n        marginBottom: 6\n      },\n      children: (data === null || data === void 0 ? void 0 : data.label) || 'API Call'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: '#6b7280'\n      },\n      children: [(data === null || data === void 0 ? void 0 : data.method) || 'GET', \" \", data !== null && data !== void 0 && data.url ? new URL(data.url).hostname : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Left,\n      style: {\n        background: '#94a3b8'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Right,\n      style: {\n        background: '#3b82f6'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n_c4 = ApiNode;\nfunction CodeNode({\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...box,\n      textAlign: 'left'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 700,\n        fontSize: 16,\n        marginBottom: 6\n      },\n      children: (data === null || data === void 0 ? void 0 : data.label) || 'Code (JS)'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: '#6b7280'\n      },\n      children: [\"retorna vari\\xE1veis de \", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: [\"return \", '{ ... }']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Left,\n      style: {\n        background: '#94a3b8'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Right,\n      style: {\n        background: '#3b82f6'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n}\n_c5 = CodeNode;\nconst nodeTypes = {\n  start: StartNode,\n  end: EndNode,\n  message: MessageNode,\n  api: ApiNode,\n  code: CodeNode\n};\n/* ------------------------------------------------------------- */\n\nexport default function JourneyBuilder() {\n  _s();\n  var _selectedNode$data2, _selectedNode$data3, _selectedNode$data4, _selectedNode$data5, _selectedNode$data6, _selectedNode$data$he, _selectedNode$data7, _selectedNode$data$bo, _selectedNode$data8, _selectedNode$data9, _selectedNode$data12;\n  const [flows, setFlows] = useState(() => loadFlows());\n  const [flowId, setFlowId] = useState(() => {\n    var _list$;\n    const curr = localStorage.getItem(CURRENT_KEY);\n    const list = loadFlows();\n    return curr && list.some(f => f.id === curr) ? curr : ((_list$ = list[0]) === null || _list$ === void 0 ? void 0 : _list$.id) || '';\n  });\n  const currentFlow = useMemo(() => ensureStartEnd(flows.find(f => f.id === flowId)), [flows, flowId]);\n  const [nodes, setNodes] = useState(() => sanitizeNodes((currentFlow === null || currentFlow === void 0 ? void 0 : currentFlow.nodes) || []));\n  const [edges, setEdges] = useState(() => sanitizeEdges((currentFlow === null || currentFlow === void 0 ? void 0 : currentFlow.edges) || []));\n  const [selection, setSelection] = useState({\n    nodes: [],\n    edges: []\n  });\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n\n  // Templates (Twilio)\n  const [templates, setTemplates] = useState([]);\n  const [templatesLoading, setTemplatesLoading] = useState(false);\n  const [templatesError, setTemplatesError] = useState(null);\n  useEffect(() => {\n    let live = true;\n    setTemplatesLoading(true);\n    fetch('/api/templates/list').then(r => r.json()).then(data => {\n      if (!live) return;\n      const list = ((data === null || data === void 0 ? void 0 : data.contents) || []).map(t => {\n        const firstType = t !== null && t !== void 0 && t.types ? Object.values(t.types)[0] : null;\n        return {\n          sid: t === null || t === void 0 ? void 0 : t.sid,\n          friendlyName: (t === null || t === void 0 ? void 0 : t.friendly_name) || (t === null || t === void 0 ? void 0 : t.friendlyName) || (t === null || t === void 0 ? void 0 : t.sid),\n          body: (firstType === null || firstType === void 0 ? void 0 : firstType.body) || '',\n          type: (firstType === null || firstType === void 0 ? void 0 : firstType.type) || ''\n        };\n      });\n      setTemplates(list);\n      setTemplatesError(null);\n    }).catch(e => setTemplatesError((e === null || e === void 0 ? void 0 : e.message) || 'Erro ao buscar templates')).finally(() => setTemplatesLoading(false));\n    return () => {\n      live = false;\n    };\n  }, []);\n\n  // troca de flow\n  useEffect(() => {\n    const f = ensureStartEnd(flows.find(x => x.id === flowId));\n    setNodes(sanitizeNodes((f === null || f === void 0 ? void 0 : f.nodes) || []));\n    setEdges(sanitizeEdges((f === null || f === void 0 ? void 0 : f.edges) || []));\n    setSelectedNodeId(null);\n    if (flowId) localStorage.setItem(CURRENT_KEY, flowId);\n  }, [flowId, flows]);\n  const onNodesChange = useCallback(changes => setNodes(nds => sanitizeNodes(applyNodeChanges(changes, nds))), []);\n  const onEdgesChange = useCallback(changes => setEdges(eds => sanitizeEdges(applyEdgeChanges(changes, eds))), []);\n\n  // *** Regra: 1 saída por nó ***\n  const onConnect = useCallback(connection => {\n    setEdges(eds => {\n      // remove qualquer aresta que já saia desse source\n      const filtered = eds.filter(e => e.source !== connection.source);\n      return sanitizeEdges(addEdge({\n        ...connection,\n        id: `e_${Date.now()}`\n      }, filtered));\n    });\n  }, []);\n  const onSelectionChange = useCallback(({\n    nodes: ns,\n    edges: es\n  }) => {\n    setSelection({\n      nodes: ns || [],\n      edges: es || []\n    });\n  }, []);\n  const onNodeClick = useCallback((_, node) => setSelectedNodeId((node === null || node === void 0 ? void 0 : node.id) || null), []);\n  const selectedNode = useMemo(() => nodes.find(n => n.id === selectedNodeId), [nodes, selectedNodeId]);\n\n  // Delete com teclado\n  useEffect(() => {\n    const h = e => {\n      if ((e.key === 'Delete' || e.key === 'Backspace') && !/input|textarea|select/i.test(e.target.tagName)) {\n        e.preventDefault();\n        handleDeleteSelected();\n      }\n    };\n    document.addEventListener('keydown', h);\n    return () => document.removeEventListener('keydown', h);\n  }, [selection]);\n  const handleDeleteSelected = () => {\n    const nodeIds = new Set(selection.nodes.map(n => n.id));\n    const edgeIds = new Set(selection.edges.map(e => e.id));\n    setNodes(nds => nds.filter(n => !nodeIds.has(n.id)));\n    setEdges(eds => eds.filter(e => !edgeIds.has(e.id) && !nodeIds.has(e.source) && !nodeIds.has(e.target)));\n    if (selectedNodeId && nodeIds.has(selectedNodeId)) setSelectedNodeId(null);\n  };\n  const saveCurrentFlow = () => {\n    if (!currentFlow) return;\n    const updated = flows.map(f => f.id === currentFlow.id ? {\n      ...f,\n      nodes: sanitizeNodes(nodes),\n      edges: sanitizeEdges(edges)\n    } : f);\n    setFlows(saveFlows(updated));\n  };\n  const newFlow = () => {\n    const id = `flow_${Date.now()}`;\n    const f = ensureStartEnd({\n      id,\n      name: 'Novo Flow',\n      nodes: [],\n      edges: []\n    });\n    const updated = [...flows, f];\n    setFlows(saveFlows(updated));\n    setFlowId(id);\n  };\n  const duplicateFlow = () => {\n    if (!currentFlow) return;\n    const id = `copy_${Date.now()}`;\n    const copy = {\n      ...currentFlow,\n      id,\n      name: `${currentFlow.name || currentFlow.id} (copy)`,\n      nodes: sanitizeNodes(nodes),\n      edges: sanitizeEdges(edges)\n    };\n    const updated = [...flows, copy];\n    setFlows(saveFlows(updated));\n    setFlowId(id);\n  };\n  const addNode = type => {\n    const id = `n_${Date.now()}`;\n    const baseX = 200 + nodes.length % 4 * 240;\n    const baseY = 160 + Math.floor(nodes.length / 4) * 160;\n    let data = {\n      label: ''\n    };\n    if (type === 'message') data = {\n      label: 'Message',\n      templateSid: '',\n      templateName: '',\n      templateBody: '',\n      templateType: ''\n    };\n    if (type === 'api') data = {\n      label: 'API Call',\n      method: 'GET',\n      url: '',\n      headers: '{}',\n      body: '',\n      mappings: [{\n        path: 'data.id',\n        var: 'userId'\n      }]\n    };\n    if (type === 'code') data = {\n      label: 'Code (JS)',\n      code: `// recebe objeto \"vars\" com variáveis anteriores\n// retorne um objeto com novas variáveis\nconst fullName = (vars.firstName || '') + ' ' + (vars.lastName || '');\nreturn { fullName };`\n    };\n    setNodes(nds => sanitizeNodes([...nds, {\n      id,\n      type,\n      position: {\n        x: baseX,\n        y: baseY\n      },\n      data\n    }]));\n  };\n  const goToList = () => window.location.href = '/journeys';\n  const updateNodeData = patch => {\n    if (!selectedNode) return;\n    const nid = selectedNode.id;\n    setNodes(nds => sanitizeNodes(nds.map(n => n.id === nid ? {\n      ...n,\n      data: {\n        ...n.data,\n        ...patch\n      }\n    } : n)));\n  };\n  const selectedTemplate = useMemo(() => {\n    var _selectedNode$data;\n    const sid = selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data = selectedNode.data) === null || _selectedNode$data === void 0 ? void 0 : _selectedNode$data.templateSid;\n    return templates.find(t => t.sid === sid);\n  }, [selectedNode, templates]);\n  const isMessage = (selectedNode === null || selectedNode === void 0 ? void 0 : selectedNode.type) === 'message';\n  const isApi = (selectedNode === null || selectedNode === void 0 ? void 0 : selectedNode.type) === 'api';\n  const isCode = (selectedNode === null || selectedNode === void 0 ? void 0 : selectedNode.type) === 'code';\n  if (!flows.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Journey Builder (MVP)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#6b7280'\n        },\n        children: [\"Nenhum flow. Clique em \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Novo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 64\n        }, this), \" para come\\xE7ar.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: newFlow,\n        children: \"+ Novo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Journey Builder (MVP)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        alignItems: 'center',\n        marginBottom: 12,\n        flexWrap: 'wrap'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontSize: 12,\n            color: '#6b7280'\n          },\n          children: \"Flow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: flowId,\n          onChange: e => setFlowId(e.target.value),\n          style: {\n            marginLeft: 8,\n            padding: 6\n          },\n          children: flows.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: f.id,\n            children: [f.name || f.id, \" (\", f.id, \")\"]\n          }, f.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: newFlow,\n        children: \"+ Novo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: duplicateFlow,\n        children: \"Duplicar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'inline-flex',\n          gap: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addNode('message'),\n          children: \"+ Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addNode('api'),\n          children: \"+ API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addNode('code'),\n          children: \"+ Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveCurrentFlow,\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteSelected,\n        disabled: !selection.nodes.length && !selection.edges.length,\n        children: \"Delete selected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: goToList,\n        style: {\n          marginLeft: 'auto'\n        },\n        children: \"Voltar p/ lista\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: '#6b7280',\n        marginBottom: 10\n      },\n      children: [\"Regras: cada n\\xF3 tem no m\\xE1ximo \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"1 sa\\xEDda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 39\n      }, this), \". Arraste das bolinhas para conectar. Selecione e use \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 107\n      }, this), \" para remover.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 380px',\n        gap: 16,\n        minHeight: 560\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #e5e7eb',\n          borderRadius: 8,\n          overflow: 'hidden',\n          background: '#fff'\n        },\n        children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n          nodes: nodes,\n          edges: edges,\n          nodeTypes: nodeTypes,\n          onNodesChange: onNodesChange,\n          onEdgesChange: onEdgesChange,\n          onConnect: onConnect,\n          onSelectionChange: onSelectionChange,\n          onNodeClick: onNodeClick,\n          fitView: true,\n          children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Background, {\n            gap: 16,\n            size: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #e5e7eb',\n          borderRadius: 8,\n          padding: 12,\n          background: '#fff'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            margin: '4px 0 12px'\n          },\n          children: \"Propriedades do N\\xF3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), !selectedNode ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#6b7280'\n          },\n          children: \"Selecione um n\\xF3.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontSize: 12,\n                color: '#6b7280'\n              },\n              children: \"Label\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: (selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data2 = selectedNode.data) === null || _selectedNode$data2 === void 0 ? void 0 : _selectedNode$data2.label) || '',\n              onChange: e => updateNodeData({\n                label: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: 8,\n                marginTop: 6\n              },\n              placeholder: \"Ex.: Send Welcome\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this), isMessage && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280'\n                },\n                children: \"Template (Twilio)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: (selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data3 = selectedNode.data) === null || _selectedNode$data3 === void 0 ? void 0 : _selectedNode$data3.templateSid) || '',\n                onChange: e => {\n                  const sid = e.target.value;\n                  const tpl = templates.find(t => t.sid === sid);\n                  updateNodeData({\n                    templateSid: sid || '',\n                    templateName: (tpl === null || tpl === void 0 ? void 0 : tpl.friendlyName) || '',\n                    templateBody: (tpl === null || tpl === void 0 ? void 0 : tpl.body) || '',\n                    templateType: (tpl === null || tpl === void 0 ? void 0 : tpl.type) || ''\n                  });\n                },\n                style: {\n                  width: '100%',\n                  padding: 8,\n                  marginTop: 6\n                },\n                disabled: templatesLoading || !!templatesError,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u2014 selecione \\u2014\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 23\n                }, this), templates.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: t.sid,\n                  children: t.friendlyName\n                }, t.sid, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this), templatesLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6,\n                  fontSize: 12,\n                  color: '#6b7280'\n                },\n                children: \"Buscando templates\\u2026\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 42\n              }, this), templatesError && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6,\n                  fontSize: 12,\n                  color: '#ef4444'\n                },\n                children: templatesError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280'\n                },\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6,\n                  padding: 10,\n                  border: '1px solid #e5e7eb',\n                  borderRadius: 6,\n                  background: '#f8fafc',\n                  minHeight: 100,\n                  whiteSpace: 'pre-wrap',\n                  fontFamily: 'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Courier New\", monospace',\n                  fontSize: 12\n                },\n                children: (selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data4 = selectedNode.data) === null || _selectedNode$data4 === void 0 ? void 0 : _selectedNode$data4.templateBody) || 'Selecione um template para ver o preview.'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), isApi && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: '120px 1fr',\n                gap: 8,\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontSize: 12,\n                    color: '#6b7280'\n                  },\n                  children: \"Method\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: (selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data5 = selectedNode.data) === null || _selectedNode$data5 === void 0 ? void 0 : _selectedNode$data5.method) || 'GET',\n                  onChange: e => updateNodeData({\n                    method: e.target.value\n                  }),\n                  style: {\n                    width: '100%',\n                    padding: 8,\n                    marginTop: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"GET\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"POST\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"PUT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"PATCH\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"DELETE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontSize: 12,\n                    color: '#6b7280'\n                  },\n                  children: \"URL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: (selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data6 = selectedNode.data) === null || _selectedNode$data6 === void 0 ? void 0 : _selectedNode$data6.url) || '',\n                  onChange: e => updateNodeData({\n                    url: e.target.value\n                  }),\n                  style: {\n                    width: '100%',\n                    padding: 8,\n                    marginTop: 6\n                  },\n                  placeholder: \"https://api.meuservico.com/users/1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280'\n                },\n                children: \"Headers (JSON)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: (_selectedNode$data$he = selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data7 = selectedNode.data) === null || _selectedNode$data7 === void 0 ? void 0 : _selectedNode$data7.headers) !== null && _selectedNode$data$he !== void 0 ? _selectedNode$data$he : '{}',\n                onChange: e => updateNodeData({\n                  headers: e.target.value\n                }),\n                style: {\n                  width: '100%',\n                  padding: 8,\n                  marginTop: 6,\n                  minHeight: 70,\n                  fontFamily: 'monospace'\n                },\n                placeholder: \"{\\\"Authorization\\\":\\\"Bearer ...\\\"}\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280'\n                },\n                children: \"Body\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: (_selectedNode$data$bo = selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data8 = selectedNode.data) === null || _selectedNode$data8 === void 0 ? void 0 : _selectedNode$data8.body) !== null && _selectedNode$data$bo !== void 0 ? _selectedNode$data$bo : '',\n                onChange: e => updateNodeData({\n                  body: e.target.value\n                }),\n                style: {\n                  width: '100%',\n                  padding: 8,\n                  marginTop: 6,\n                  minHeight: 70,\n                  fontFamily: 'monospace'\n                },\n                placeholder: \"{\\\"name\\\":\\\"Ada\\\"}  (enviado em POST/PUT/PATCH)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280'\n                },\n                children: \"Mapeamentos JSON \\u2192 Vari\\xE1veis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 21\n              }, this), ((selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data9 = selectedNode.data) === null || _selectedNode$data9 === void 0 ? void 0 : _selectedNode$data9.mappings) || []).map((m, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr auto',\n                  gap: 6,\n                  marginTop: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  value: m.path,\n                  onChange: e => {\n                    var _selectedNode$data0;\n                    const arr = [...((selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data0 = selectedNode.data) === null || _selectedNode$data0 === void 0 ? void 0 : _selectedNode$data0.mappings) || [])];\n                    arr[idx] = {\n                      ...arr[idx],\n                      path: e.target.value\n                    };\n                    updateNodeData({\n                      mappings: arr\n                    });\n                  },\n                  placeholder: \"ex.: data.user.id\",\n                  style: {\n                    padding: 8\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: m.var,\n                  onChange: e => {\n                    var _selectedNode$data1;\n                    const arr = [...((selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data1 = selectedNode.data) === null || _selectedNode$data1 === void 0 ? void 0 : _selectedNode$data1.mappings) || [])];\n                    arr[idx] = {\n                      ...arr[idx],\n                      var: e.target.value\n                    };\n                    updateNodeData({\n                      mappings: arr\n                    });\n                  },\n                  placeholder: \"ex.: userId\",\n                  style: {\n                    padding: 8\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    var _selectedNode$data10;\n                    const arr = [...((selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data10 = selectedNode.data) === null || _selectedNode$data10 === void 0 ? void 0 : _selectedNode$data10.mappings) || [])];\n                    arr.splice(idx, 1);\n                    updateNodeData({\n                      mappings: arr\n                    });\n                  },\n                  children: \"\\u2212\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 25\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  marginTop: 6\n                },\n                onClick: () => {\n                  var _selectedNode$data11;\n                  return updateNodeData({\n                    mappings: [...((selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data11 = selectedNode.data) === null || _selectedNode$data11 === void 0 ? void 0 : _selectedNode$data11.mappings) || []), {\n                      path: '',\n                      var: ''\n                    }]\n                  });\n                },\n                children: \"+ adicionar mapeamento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280',\n                  marginTop: 6\n                },\n                children: [\"Use paths do tipo \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: \"data.user.id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 41\n                }, this), \". O executor vai ler o JSON e gravar nas vari\\xE1veis.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), isCode && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280'\n                },\n                children: \"C\\xF3digo JavaScript\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: (selectedNode === null || selectedNode === void 0 ? void 0 : (_selectedNode$data12 = selectedNode.data) === null || _selectedNode$data12 === void 0 ? void 0 : _selectedNode$data12.code) || '',\n                onChange: e => updateNodeData({\n                  code: e.target.value\n                }),\n                style: {\n                  width: '100%',\n                  padding: 8,\n                  marginTop: 6,\n                  minHeight: 160,\n                  fontFamily: 'monospace'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 12,\n                  color: '#6b7280',\n                  marginTop: 6,\n                  lineHeight: 1.4\n                },\n                children: [\"O executor chamar\\xE1 seu c\\xF3digo como \", /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: \"(vars) => { ... }\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 58\n                }, this), \". Voc\\xEA deve \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"retornar um objeto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 33\n                }, this), \" com as novas vari\\xE1veis, por exemplo:\", /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: {\n                    background: '#f8fafc',\n                    padding: 8,\n                    border: '1px solid #e5e7eb',\n                    borderRadius: 6,\n                    marginTop: 6\n                  },\n                  children: `// vars contém variáveis acumuladas do fluxo\nconst full = (vars.firstName || '') + ' ' + (vars.lastName || '');\nreturn { fullName: full };`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 19\n            }, this)\n          }, void 0, false)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 5\n  }, this);\n}\n_s(JourneyBuilder, \"zxkjDDOnEtOcXExxJvWvc58qxmY=\");\n_c6 = JourneyBuilder;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"StartNode\");\n$RefreshReg$(_c2, \"EndNode\");\n$RefreshReg$(_c3, \"MessageNode\");\n$RefreshReg$(_c4, \"ApiNode\");\n$RefreshReg$(_c5, \"CodeNode\");\n$RefreshReg$(_c6, \"JourneyBuilder\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","ReactFlow","addEdge","applyEdgeChanges","applyNodeChanges","Background","Controls","MiniMap","Position","Handle","jsxDEV","_jsxDEV","Fragment","_Fragment","STORAGE_KEY","CURRENT_KEY","sanitizeNodes","list","filter","Boolean","map","n","i","_n$position","_n$position2","_n$id","x","Number","position","y","id","String","type","data","label","isFinite","Math","floor","draggable","selectable","sanitizeEdges","e","_e$id","source","target","animated","loadFlows","raw","localStorage","getItem","arr","JSON","parse","Array","isArray","f","nodes","edges","saveFlows","flows","safe","setItem","stringify","ensureStartEnd","flow","hasStart","some","hasEnd","extra","push","Date","now","length","box","padding","border","borderRadius","background","minWidth","boxShadow","textAlign","StartNode","style","children","fontWeight","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","color","Right","_c","EndNode","Left","_c2","MessageNode","marginBottom","templateName","_c3","ApiNode","method","url","URL","hostname","_c4","CodeNode","_c5","nodeTypes","start","end","message","api","code","JourneyBuilder","_s","_selectedNode$data2","_selectedNode$data3","_selectedNode$data4","_selectedNode$data5","_selectedNode$data6","_selectedNode$data$he","_selectedNode$data7","_selectedNode$data$bo","_selectedNode$data8","_selectedNode$data9","_selectedNode$data12","setFlows","flowId","setFlowId","_list$","curr","currentFlow","find","setNodes","setEdges","selection","setSelection","selectedNodeId","setSelectedNodeId","templates","setTemplates","templatesLoading","setTemplatesLoading","templatesError","setTemplatesError","live","fetch","then","r","json","contents","t","firstType","types","Object","values","sid","friendlyName","friendly_name","body","catch","finally","onNodesChange","changes","nds","onEdgesChange","eds","onConnect","connection","filtered","onSelectionChange","ns","es","onNodeClick","_","node","selectedNode","h","key","test","tagName","preventDefault","handleDeleteSelected","document","addEventListener","removeEventListener","nodeIds","Set","edgeIds","has","saveCurrentFlow","updated","newFlow","name","duplicateFlow","copy","addNode","baseX","baseY","templateSid","templateBody","templateType","headers","mappings","path","var","goToList","window","location","href","updateNodeData","patch","nid","selectedTemplate","_selectedNode$data","isMessage","isApi","isCode","onClick","display","gap","alignItems","flexWrap","value","onChange","marginLeft","disabled","gridTemplateColumns","minHeight","overflow","fitView","size","margin","width","marginTop","placeholder","tpl","whiteSpace","fontFamily","m","idx","_selectedNode$data0","_selectedNode$data1","_selectedNode$data10","splice","_selectedNode$data11","lineHeight","_c6","$RefreshReg$"],"sources":["/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneyBuilder.jsx"],"sourcesContent":["// frontend/src/pages/JourneyBuilder.jsx\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport ReactFlow, {\n  addEdge,\n  applyEdgeChanges,\n  applyNodeChanges,\n  Background,\n  Controls,\n  MiniMap,\n  Position,\n  Handle,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\n\nconst STORAGE_KEY = 'flows_v2';\nconst CURRENT_KEY = 'flows_current_v2';\n\n/* ------------------ Helpers de persistência ------------------ */\nconst sanitizeNodes = (list) =>\n  (list || []).filter(Boolean).map((n, i) => {\n    const x = Number(n?.position?.x);\n    const y = Number(n?.position?.y);\n    return {\n      id: String(n?.id ?? `n_${i}`),\n      type: n?.type || 'message',\n      data: n?.data || { label: 'Step' },\n      position:\n        Number.isFinite(x) && Number.isFinite(y)\n          ? { x, y }\n          : { x: 140 + (i % 4) * 220, y: 140 + Math.floor(i / 4) * 160 },\n      draggable: true,\n      selectable: true,\n    };\n  });\n\nconst sanitizeEdges = (list) =>\n  (list || []).filter(Boolean).map((e, i) => ({\n    id: String(e?.id ?? `e_${i}`),\n    source: String(e?.source),\n    target: String(e?.target),\n    animated: !!e?.animated,\n    label: e?.label,\n    selectable: true,\n  }));\n\nfunction loadFlows() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    const arr = raw ? JSON.parse(raw) : [];\n    if (!Array.isArray(arr)) return [];\n    return arr.map((f) => ({\n      ...f,\n      nodes: sanitizeNodes(f.nodes),\n      edges: sanitizeEdges(f.edges),\n    }));\n  } catch {\n    return [];\n  }\n}\n\nfunction saveFlows(flows) {\n  const safe = (flows || []).map((f) => ({\n    ...f,\n    nodes: sanitizeNodes(f.nodes),\n    edges: sanitizeEdges(f.edges),\n  }));\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(safe));\n  return safe;\n}\n\nconst ensureStartEnd = (flow) => {\n  if (!flow) return flow;\n  const hasStart = (flow.nodes || []).some((n) => n.type === 'start');\n  const hasEnd = (flow.nodes || []).some((n) => n.type === 'end');\n  const extra = [];\n  if (!hasStart)\n    extra.push({\n      id: `start_${Date.now()}`,\n      type: 'start',\n      data: { label: 'Start' },\n      position: { x: 160, y: 100 },\n    });\n  if (!hasEnd)\n    extra.push({\n      id: `end_${Date.now() + 1}`,\n      type: 'end',\n      data: { label: 'End' },\n      position: { x: 700, y: 100 },\n    });\n  return extra.length ? { ...flow, nodes: [...(flow.nodes || []), ...extra] } : flow;\n};\n/* ------------------------------------------------------------- */\n\n/* ---------------------- Node Components ---------------------- */\nconst box = {\n  padding: 12, border: '1px solid #e5e7eb', borderRadius: 10, background: '#fff',\n  minWidth: 200, boxShadow: '0 1px 2px rgba(0,0,0,0.06)', textAlign: 'center'\n};\n\nfunction StartNode({ data }) {\n  return (\n    <div style={{ ...box, minWidth: 220 }}>\n      <div style={{ fontWeight: 800, fontSize: 18 }}>Start</div>\n      <div style={{ fontSize: 12, color: '#6b7280' }}>início do fluxo</div>\n      <Handle type=\"source\" position={Position.Right} style={{ background: '#22c55e' }} />\n    </div>\n  );\n}\n\nfunction EndNode({ data }) {\n  return (\n    <div style={{ ...box, minWidth: 220 }}>\n      <div style={{ fontWeight: 800, fontSize: 18 }}>End</div>\n      <div style={{ fontSize: 12, color: '#6b7280' }}>término do fluxo</div>\n      <Handle type=\"target\" position={Position.Left} style={{ background: '#ef4444' }} />\n    </div>\n  );\n}\n\nfunction MessageNode({ data }) {\n  return (\n    <div style={{ ...box, textAlign: 'left' }}>\n      <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 6 }}>\n        {data?.label || 'Message'}\n      </div>\n      <div style={{ fontSize: 12, color: '#6b7280' }}>\n        Template: {data?.templateName || '—'}\n      </div>\n      <Handle type=\"target\" position={Position.Left} style={{ background: '#94a3b8' }} />\n      <Handle type=\"source\" position={Position.Right} style={{ background: '#3b82f6' }} />\n    </div>\n  );\n}\n\nfunction ApiNode({ data }) {\n  return (\n    <div style={{ ...box, textAlign: 'left' }}>\n      <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 6 }}>\n        {data?.label || 'API Call'}\n      </div>\n      <div style={{ fontSize: 12, color: '#6b7280' }}>\n        {data?.method || 'GET'} {data?.url ? new URL(data.url).hostname : ''}\n      </div>\n      <Handle type=\"target\" position={Position.Left} style={{ background: '#94a3b8' }} />\n      <Handle type=\"source\" position={Position.Right} style={{ background: '#3b82f6' }} />\n    </div>\n  );\n}\n\nfunction CodeNode({ data }) {\n  return (\n    <div style={{ ...box, textAlign: 'left' }}>\n      <div style={{ fontWeight: 700, fontSize: 16, marginBottom: 6 }}>\n        {data?.label || 'Code (JS)'}\n      </div>\n      <div style={{ fontSize: 12, color: '#6b7280' }}>\n        retorna variáveis de <code>return {'{ ... }'}</code>\n      </div>\n      <Handle type=\"target\" position={Position.Left} style={{ background: '#94a3b8' }} />\n      <Handle type=\"source\" position={Position.Right} style={{ background: '#3b82f6' }} />\n    </div>\n  );\n}\n\nconst nodeTypes = {\n  start: StartNode,\n  end: EndNode,\n  message: MessageNode,\n  api: ApiNode,\n  code: CodeNode,\n};\n/* ------------------------------------------------------------- */\n\nexport default function JourneyBuilder() {\n  const [flows, setFlows] = useState(() => loadFlows());\n  const [flowId, setFlowId] = useState(() => {\n    const curr = localStorage.getItem(CURRENT_KEY);\n    const list = loadFlows();\n    return curr && list.some((f) => f.id === curr) ? curr : (list[0]?.id || '');\n  });\n\n  const currentFlow = useMemo(\n    () => ensureStartEnd(flows.find((f) => f.id === flowId)),\n    [flows, flowId]\n  );\n\n  const [nodes, setNodes] = useState(() => sanitizeNodes(currentFlow?.nodes || []));\n  const [edges, setEdges] = useState(() => sanitizeEdges(currentFlow?.edges || []));\n  const [selection, setSelection] = useState({ nodes: [], edges: [] });\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n\n  // Templates (Twilio)\n  const [templates, setTemplates] = useState([]);\n  const [templatesLoading, setTemplatesLoading] = useState(false);\n  const [templatesError, setTemplatesError] = useState(null);\n\n  useEffect(() => {\n    let live = true;\n    setTemplatesLoading(true);\n    fetch('/api/templates/list')\n      .then((r) => r.json())\n      .then((data) => {\n        if (!live) return;\n        const list = (data?.contents || []).map((t) => {\n          const firstType = t?.types ? Object.values(t.types)[0] : null;\n          return {\n            sid: t?.sid,\n            friendlyName: t?.friendly_name || t?.friendlyName || t?.sid,\n            body: firstType?.body || '',\n            type: firstType?.type || '',\n          };\n        });\n        setTemplates(list);\n        setTemplatesError(null);\n      })\n      .catch((e) => setTemplatesError(e?.message || 'Erro ao buscar templates'))\n      .finally(() => setTemplatesLoading(false));\n    return () => { live = false; };\n  }, []);\n\n  // troca de flow\n  useEffect(() => {\n    const f = ensureStartEnd(flows.find((x) => x.id === flowId));\n    setNodes(sanitizeNodes(f?.nodes || []));\n    setEdges(sanitizeEdges(f?.edges || []));\n    setSelectedNodeId(null);\n    if (flowId) localStorage.setItem(CURRENT_KEY, flowId);\n  }, [flowId, flows]);\n\n  const onNodesChange = useCallback(\n    (changes) => setNodes((nds) => sanitizeNodes(applyNodeChanges(changes, nds))),\n    []\n  );\n  const onEdgesChange = useCallback(\n    (changes) => setEdges((eds) => sanitizeEdges(applyEdgeChanges(changes, eds))),\n    []\n  );\n\n  // *** Regra: 1 saída por nó ***\n  const onConnect = useCallback((connection) => {\n    setEdges((eds) => {\n      // remove qualquer aresta que já saia desse source\n      const filtered = eds.filter((e) => e.source !== connection.source);\n      return sanitizeEdges(addEdge({ ...connection, id: `e_${Date.now()}` }, filtered));\n    });\n  }, []);\n\n  const onSelectionChange = useCallback(({ nodes: ns, edges: es }) => {\n    setSelection({ nodes: ns || [], edges: es || [] });\n  }, []);\n  const onNodeClick = useCallback((_, node) => setSelectedNodeId(node?.id || null), []);\n\n  const selectedNode = useMemo(() => nodes.find((n) => n.id === selectedNodeId), [nodes, selectedNodeId]);\n\n  // Delete com teclado\n  useEffect(() => {\n    const h = (e) => {\n      if ((e.key === 'Delete' || e.key === 'Backspace') && !/input|textarea|select/i.test(e.target.tagName)) {\n        e.preventDefault();\n        handleDeleteSelected();\n      }\n    };\n    document.addEventListener('keydown', h);\n    return () => document.removeEventListener('keydown', h);\n  }, [selection]);\n\n  const handleDeleteSelected = () => {\n    const nodeIds = new Set(selection.nodes.map((n) => n.id));\n    const edgeIds = new Set(selection.edges.map((e) => e.id));\n    setNodes((nds) => nds.filter((n) => !nodeIds.has(n.id)));\n    setEdges((eds) => eds.filter((e) =>\n      !edgeIds.has(e.id) && !nodeIds.has(e.source) && !nodeIds.has(e.target)\n    ));\n    if (selectedNodeId && nodeIds.has(selectedNodeId)) setSelectedNodeId(null);\n  };\n\n  const saveCurrentFlow = () => {\n    if (!currentFlow) return;\n    const updated = flows.map((f) =>\n      f.id === currentFlow.id ? { ...f, nodes: sanitizeNodes(nodes), edges: sanitizeEdges(edges) } : f\n    );\n    setFlows(saveFlows(updated));\n  };\n\n  const newFlow = () => {\n    const id = `flow_${Date.now()}`;\n    const f = ensureStartEnd({ id, name: 'Novo Flow', nodes: [], edges: [] });\n    const updated = [...flows, f];\n    setFlows(saveFlows(updated));\n    setFlowId(id);\n  };\n\n  const duplicateFlow = () => {\n    if (!currentFlow) return;\n    const id = `copy_${Date.now()}`;\n    const copy = {\n      ...currentFlow,\n      id,\n      name: `${currentFlow.name || currentFlow.id} (copy)`,\n      nodes: sanitizeNodes(nodes),\n      edges: sanitizeEdges(edges),\n    };\n    const updated = [...flows, copy];\n    setFlows(saveFlows(updated));\n    setFlowId(id);\n  };\n\n  const addNode = (type) => {\n    const id = `n_${Date.now()}`;\n    const baseX = 200 + (nodes.length % 4) * 240;\n    const baseY = 160 + Math.floor(nodes.length / 4) * 160;\n\n    let data = { label: '' };\n    if (type === 'message') data = { label: 'Message', templateSid: '', templateName: '', templateBody: '', templateType: '' };\n    if (type === 'api') data = { label: 'API Call', method: 'GET', url: '', headers: '{}', body: '', mappings: [{ path: 'data.id', var: 'userId' }] };\n    if (type === 'code') data = {\n      label: 'Code (JS)',\n      code:\n`// recebe objeto \"vars\" com variáveis anteriores\n// retorne um objeto com novas variáveis\nconst fullName = (vars.firstName || '') + ' ' + (vars.lastName || '');\nreturn { fullName };`\n    };\n\n    setNodes((nds) => sanitizeNodes([...nds, { id, type, position: { x: baseX, y: baseY }, data }]));\n  };\n\n  const goToList = () => (window.location.href = '/journeys');\n\n  const updateNodeData = (patch) => {\n    if (!selectedNode) return;\n    const nid = selectedNode.id;\n    setNodes((nds) =>\n      sanitizeNodes(nds.map((n) => (n.id === nid ? { ...n, data: { ...n.data, ...patch } } : n)))\n    );\n  };\n\n  const selectedTemplate = useMemo(() => {\n    const sid = selectedNode?.data?.templateSid;\n    return templates.find((t) => t.sid === sid);\n  }, [selectedNode, templates]);\n\n  const isMessage = selectedNode?.type === 'message';\n  const isApi = selectedNode?.type === 'api';\n  const isCode = selectedNode?.type === 'code';\n\n  if (!flows.length) {\n    return (\n      <div>\n        <h2>Journey Builder (MVP)</h2>\n        <p style={{ color: '#6b7280' }}>Nenhum flow. Clique em <b>Novo</b> para começar.</p>\n        <button onClick={newFlow}>+ Novo</button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h2>Journey Builder (MVP)</h2>\n\n      {/* Toolbar */}\n      <div style={{ display: 'flex', gap: 8, alignItems: 'center', marginBottom: 12, flexWrap: 'wrap' }}>\n        <div>\n          <label style={{ fontSize: 12, color: '#6b7280' }}>Flow</label>\n          <select value={flowId} onChange={(e) => setFlowId(e.target.value)} style={{ marginLeft: 8, padding: 6 }}>\n            {flows.map((f) => (\n              <option key={f.id} value={f.id}>\n                {f.name || f.id} ({f.id})\n              </option>\n            ))}\n          </select>\n        </div>\n        <button onClick={newFlow}>+ Novo</button>\n        <button onClick={duplicateFlow}>Duplicar</button>\n\n        {/* Add node (tipos) */}\n        <div style={{ display: 'inline-flex', gap: 6 }}>\n          <button onClick={() => addNode('message')}>+ Message</button>\n          <button onClick={() => addNode('api')}>+ API</button>\n          <button onClick={() => addNode('code')}>+ Code</button>\n        </div>\n\n        <button onClick={saveCurrentFlow}>Salvar</button>\n        <button onClick={handleDeleteSelected} disabled={!selection.nodes.length && !selection.edges.length}>\n          Delete selected\n        </button>\n        <button onClick={goToList} style={{ marginLeft: 'auto' }}>Voltar p/ lista</button>\n      </div>\n\n      <div style={{ fontSize: 12, color: '#6b7280', marginBottom: 10 }}>\n        Regras: cada nó tem no máximo <b>1 saída</b>. Arraste das bolinhas para conectar. Selecione e use <b>Delete</b> para remover.\n      </div>\n\n      {/* Layout */}\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 380px', gap: 16, minHeight: 560 }}>\n        {/* Canvas */}\n        <div style={{ border: '1px solid #e5e7eb', borderRadius: 8, overflow: 'hidden', background: '#fff' }}>\n          <ReactFlow\n            nodes={nodes}\n            edges={edges}\n            nodeTypes={nodeTypes}\n            onNodesChange={onNodesChange}\n            onEdgesChange={onEdgesChange}\n            onConnect={onConnect}\n            onSelectionChange={onSelectionChange}\n            onNodeClick={onNodeClick}\n            fitView\n          >\n            <MiniMap />\n            <Controls />\n            <Background gap={16} size={1} />\n          </ReactFlow>\n        </div>\n\n        {/* Painel lateral */}\n        <div style={{ border: '1px solid #e5e7eb', borderRadius: 8, padding: 12, background: '#fff' }}>\n          <h4 style={{ margin: '4px 0 12px' }}>Propriedades do Nó</h4>\n\n          {!selectedNode ? (\n            <div style={{ color: '#6b7280' }}>Selecione um nó.</div>\n          ) : (\n            <>\n              {/* Label comum */}\n              <div style={{ marginBottom: 12 }}>\n                <label style={{ fontSize: 12, color: '#6b7280' }}>Label</label>\n                <input\n                  value={selectedNode?.data?.label || ''}\n                  onChange={(e) => updateNodeData({ label: e.target.value })}\n                  style={{ width: '100%', padding: 8, marginTop: 6 }}\n                  placeholder=\"Ex.: Send Welcome\"\n                />\n              </div>\n\n              {/* Message (Twilio) */}\n              {isMessage && (\n                <>\n                  <div style={{ marginBottom: 12 }}>\n                    <label style={{ fontSize: 12, color: '#6b7280' }}>Template (Twilio)</label>\n                    <select\n                      value={selectedNode?.data?.templateSid || ''}\n                      onChange={(e) => {\n                        const sid = e.target.value;\n                        const tpl = templates.find((t) => t.sid === sid);\n                        updateNodeData({\n                          templateSid: sid || '',\n                          templateName: tpl?.friendlyName || '',\n                          templateBody: tpl?.body || '',\n                          templateType: tpl?.type || '',\n                        });\n                      }}\n                      style={{ width: '100%', padding: 8, marginTop: 6 }}\n                      disabled={templatesLoading || !!templatesError}\n                    >\n                      <option value=\"\">— selecione —</option>\n                      {templates.map((t) => (\n                        <option key={t.sid} value={t.sid}>{t.friendlyName}</option>\n                      ))}\n                    </select>\n                    {templatesLoading && <div style={{ marginTop: 6, fontSize: 12, color: '#6b7280' }}>Buscando templates…</div>}\n                    {templatesError && <div style={{ marginTop: 6, fontSize: 12, color: '#ef4444' }}>{templatesError}</div>}\n                  </div>\n\n                  <div>\n                    <label style={{ fontSize: 12, color: '#6b7280' }}>Preview</label>\n                    <div\n                      style={{\n                        marginTop: 6, padding: 10, border: '1px solid #e5e7eb', borderRadius: 6,\n                        background: '#f8fafc', minHeight: 100, whiteSpace: 'pre-wrap', fontFamily: 'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Courier New\", monospace', fontSize: 12\n                      }}\n                    >\n                      {selectedNode?.data?.templateBody || 'Selecione um template para ver o preview.'}\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {/* API */}\n              {isApi && (\n                <>\n                  <div style={{ display: 'grid', gridTemplateColumns: '120px 1fr', gap: 8, marginBottom: 8 }}>\n                    <div>\n                      <label style={{ fontSize: 12, color: '#6b7280' }}>Method</label>\n                      <select\n                        value={selectedNode?.data?.method || 'GET'}\n                        onChange={(e) => updateNodeData({ method: e.target.value })}\n                        style={{ width: '100%', padding: 8, marginTop: 6 }}\n                      >\n                        <option>GET</option>\n                        <option>POST</option>\n                        <option>PUT</option>\n                        <option>PATCH</option>\n                        <option>DELETE</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label style={{ fontSize: 12, color: '#6b7280' }}>URL</label>\n                      <input\n                        value={selectedNode?.data?.url || ''}\n                        onChange={(e) => updateNodeData({ url: e.target.value })}\n                        style={{ width: '100%', padding: 8, marginTop: 6 }}\n                        placeholder=\"https://api.meuservico.com/users/1\"\n                      />\n                    </div>\n                  </div>\n\n                  <div style={{ marginBottom: 8 }}>\n                    <label style={{ fontSize: 12, color: '#6b7280' }}>Headers (JSON)</label>\n                    <textarea\n                      value={selectedNode?.data?.headers ?? '{}'}\n                      onChange={(e) => updateNodeData({ headers: e.target.value })}\n                      style={{ width: '100%', padding: 8, marginTop: 6, minHeight: 70, fontFamily: 'monospace' }}\n                      placeholder='{\"Authorization\":\"Bearer ...\"}'\n                    />\n                  </div>\n\n                  <div style={{ marginBottom: 8 }}>\n                    <label style={{ fontSize: 12, color: '#6b7280' }}>Body</label>\n                    <textarea\n                      value={selectedNode?.data?.body ?? ''}\n                      onChange={(e) => updateNodeData({ body: e.target.value })}\n                      style={{ width: '100%', padding: 8, marginTop: 6, minHeight: 70, fontFamily: 'monospace' }}\n                      placeholder='{\"name\":\"Ada\"}  (enviado em POST/PUT/PATCH)'\n                    />\n                  </div>\n\n                  <div>\n                    <label style={{ fontSize: 12, color: '#6b7280' }}>Mapeamentos JSON → Variáveis</label>\n                    {(selectedNode?.data?.mappings || []).map((m, idx) => (\n                      <div key={idx} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr auto', gap: 6, marginTop: 6 }}>\n                        <input\n                          value={m.path}\n                          onChange={(e) => {\n                            const arr = [...(selectedNode?.data?.mappings || [])];\n                            arr[idx] = { ...arr[idx], path: e.target.value };\n                            updateNodeData({ mappings: arr });\n                          }}\n                          placeholder=\"ex.: data.user.id\"\n                          style={{ padding: 8 }}\n                        />\n                        <input\n                          value={m.var}\n                          onChange={(e) => {\n                            const arr = [...(selectedNode?.data?.mappings || [])];\n                            arr[idx] = { ...arr[idx], var: e.target.value };\n                            updateNodeData({ mappings: arr });\n                          }}\n                          placeholder=\"ex.: userId\"\n                          style={{ padding: 8 }}\n                        />\n                        <button\n                          onClick={() => {\n                            const arr = [...(selectedNode?.data?.mappings || [])];\n                            arr.splice(idx, 1);\n                            updateNodeData({ mappings: arr });\n                          }}\n                        >\n                          −\n                        </button>\n                      </div>\n                    ))}\n                    <button\n                      style={{ marginTop: 6 }}\n                      onClick={() => updateNodeData({ mappings: [...(selectedNode?.data?.mappings || []), { path: '', var: '' }] })}\n                    >\n                      + adicionar mapeamento\n                    </button>\n                    <div style={{ fontSize: 12, color: '#6b7280', marginTop: 6 }}>\n                      Use paths do tipo <code>data.user.id</code>. O executor vai ler o JSON e gravar nas variáveis.\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {/* Code (JS) */}\n              {isCode && (\n                <>\n                  <div>\n                    <label style={{ fontSize: 12, color: '#6b7280' }}>Código JavaScript</label>\n                    <textarea\n                      value={selectedNode?.data?.code || ''}\n                      onChange={(e) => updateNodeData({ code: e.target.value })}\n                      style={{ width: '100%', padding: 8, marginTop: 6, minHeight: 160, fontFamily: 'monospace' }}\n                    />\n                    <div style={{ fontSize: 12, color: '#6b7280', marginTop: 6, lineHeight: 1.4 }}>\n                      O executor chamará seu código como <code>(vars) =&gt; &#123; ... &#125;</code>.\n                      Você deve <b>retornar um objeto</b> com as novas variáveis, por exemplo:\n                      <pre style={{ background: '#f8fafc', padding: 8, border: '1px solid #e5e7eb', borderRadius: 6, marginTop: 6 }}>\n{`// vars contém variáveis acumuladas do fluxo\nconst full = (vars.firstName || '') + ' ' + (vars.lastName || '');\nreturn { fullName: full };`}\n                      </pre>\n                    </div>\n                  </div>\n                </>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}