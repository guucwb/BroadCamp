{"ast":null,"code":"var _jsxFileName = \"/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneyBuilder.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/JourneyBuilder.jsx\nimport React, { useEffect, useMemo, useState } from 'react';\nimport ReactFlow, { Background, Controls, MiniMap, addEdge, useEdgesState, useNodesState } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport FreeFormNode from '../components/FreeFormNode';\n\n// Se você já tem MessageNode / ApiNode / CodeNode, importe aqui.\n// Exemplo placeholders simples:\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BoxNode = ({\n  data,\n  selected,\n  title\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    minWidth: 220,\n    background: '#fff',\n    border: selected ? '2px solid #2563eb' : '1px solid #e5e7eb',\n    borderRadius: 12,\n    padding: '12px 14px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.04)'\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontWeight: 700,\n      marginBottom: 6\n    },\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontSize: 12,\n      color: '#475569'\n    },\n    children: data === null || data === void 0 ? void 0 : data.subtitle\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"react-flow__handle react-flow__handle-left\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"react-flow__handle react-flow__handle-right\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 3\n}, this);\n_c = BoxNode;\nconst StartNode = props => /*#__PURE__*/_jsxDEV(BoxNode, {\n  ...props,\n  title: \"Start\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 31,\n  columnNumber: 30\n}, this);\n_c2 = StartNode;\nconst EndNode = props => /*#__PURE__*/_jsxDEV(BoxNode, {\n  ...props,\n  title: \"End\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 32,\n  columnNumber: 30\n}, this);\n_c3 = EndNode;\nconst nodeTypes = {\n  start: StartNode,\n  end: EndNode,\n  freeform: FreeFormNode\n  // message: MessageNode,\n  // api: ApiNode,\n  // code: CodeNode,\n};\nconst START_X = 200,\n  START_Y = 300,\n  GAP_X = 320;\nexport default function JourneyBuilder() {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState([{\n    id: 'start',\n    type: 'start',\n    position: {\n      x: START_X,\n      y: START_Y\n    },\n    data: {\n      subtitle: 'início do fluxo'\n    }\n  }, {\n    id: 'end',\n    type: 'end',\n    position: {\n      x: START_X + GAP_X * 2,\n      y: START_Y - 20\n    },\n    data: {\n      subtitle: 'término do fluxo'\n    }\n  }]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [selectedId, setSelectedId] = useState(null);\n\n  // Templates Twilio (para painel e prévia)\n  const [templates, setTemplates] = useState([]);\n  useEffect(() => {\n    fetch('/api/templates/list').then(r => r.json()).then(d => setTemplates((d === null || d === void 0 ? void 0 : d.contents) || [])).catch(() => setTemplates([]));\n  }, []);\n\n  // util: pega/atualiza nó selecionado\n  const selectedNode = useMemo(() => nodes.find(n => n.id === selectedId), [nodes, selectedId]);\n  const updateNodeData = patch => {\n    if (!selectedNode) return;\n    setNodes(ns => ns.map(n => n.id === selectedNode.id ? {\n      ...n,\n      data: {\n        ...n.data,\n        ...patch\n      }\n    } : n));\n  };\n\n  // RESTRIÇÃO: 1 (uma) saída por nó\n  const onConnect = params => {\n    const already = edges.find(e => e.source === params.source);\n    if (already) {\n      alert('Cada nó só pode ter 1 saída. Remova a ligação atual antes de criar outra.');\n      return;\n    }\n    setEdges(eds => addEdge({\n      ...params,\n      type: 'smoothstep'\n    }, eds));\n  };\n\n  // seleção de nó -> abre painel\n  const onNodeClick = (_, node) => setSelectedId(node.id);\n  const onSelectionChange = ({\n    nodes: selNodes\n  }) => {\n    if (selNodes !== null && selNodes !== void 0 && selNodes.length) setSelectedId(selNodes[0].id);\n  };\n\n  // adicionar nós\n  const addFreeForm = () => {\n    const id = `free_${Date.now()}`;\n    setNodes(ns => [...ns, {\n      id,\n      type: 'freeform',\n      position: {\n        x: START_X + GAP_X,\n        y: START_Y + 140\n      },\n      data: {\n        label: 'Free Form',\n        channel: 'whatsapp',\n        mode: 'text',\n        text: 'Olá {{nome}}!',\n        mediaUrl: '',\n        buttons: [],\n        // {type:'url'|'quick', text:'...', url/payload:'...'}\n        templateSid: '' // opcional: se quiser reaproveitar template\n      }\n    }]);\n    setSelectedId(id);\n  };\n\n  // duplicar / remover\n  const duplicateSelected = () => {\n    if (!selectedNode) return;\n    const id = `${selectedNode.type}_${Date.now()}`;\n    const pos = {\n      x: selectedNode.position.x + 40,\n      y: selectedNode.position.y + 40\n    };\n    setNodes(ns => [...ns, {\n      ...selectedNode,\n      id,\n      position: pos\n    }]);\n    setSelectedId(id);\n  };\n  const deleteSelected = () => {\n    if (!selectedNode) return;\n    setEdges(eds => eds.filter(e => e.source !== selectedNode.id && e.target !== selectedNode.id));\n    setNodes(ns => ns.filter(n => n.id !== selectedNode.id));\n    setSelectedId(null);\n  };\n\n  // painel – propriedades por tipo\n  const renderSidebar = () => {\n    var _selectedNode$data;\n    if (!selectedNode) return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#94a3b8'\n      },\n      children: \"Selecione um n\\xF3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 31\n    }, this);\n    const t = selectedNode.type;\n\n    // FREEFORM\n    if (t === 'freeform') {\n      const d = selectedNode.data || {};\n      const tmplBody = d.templateSid ? (_Object$values$ => {\n        const t = templates.find(tt => tt.sid === d.templateSid);\n        return t ? ((_Object$values$ = Object.values(t.types)[0]) === null || _Object$values$ === void 0 ? void 0 : _Object$values$.body) || '' : '';\n      })() : '';\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Label\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: d.label || '',\n          onChange: e => updateNodeData({\n            label: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginTop: 12\n          },\n          children: \"Channel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: d.channel || 'whatsapp',\n          onChange: e => updateNodeData({\n            channel: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"whatsapp\",\n            children: \"WhatsApp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"sms\",\n            children: \"SMS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginTop: 12\n          },\n          children: \"Mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: d.mode || 'text',\n          onChange: e => updateNodeData({\n            mode: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"text\",\n            children: \"Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"image\",\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"rich\",\n            children: \"Rich (text + image + buttons)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginTop: 12\n          },\n          children: \"Pick a Twilio template (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: d.templateSid || '',\n          onChange: e => updateNodeData({\n            templateSid: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u2014 none \\u2014\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), templates.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t.sid,\n            children: t.friendly_name\n          }, t.sid, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), (d.mode === 'text' || d.mode === 'rich') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginTop: 12\n            },\n            children: \"Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            rows: 4,\n            value: d.text || '',\n            onChange: e => updateNodeData({\n              text: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), (d.mode === 'image' || d.mode === 'rich') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginTop: 12\n            },\n            children: \"Media URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"https://...\",\n            value: d.mediaUrl || '',\n            onChange: e => updateNodeData({\n              mediaUrl: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), d.mode === 'rich' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginTop: 12\n            },\n            children: \"Buttons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), (d.buttons || []).map((b, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: 8,\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: b.type,\n              onChange: e => {\n                const copy = [...(d.buttons || [])];\n                copy[i] = {\n                  ...copy[i],\n                  type: e.target.value\n                };\n                updateNodeData({\n                  buttons: copy\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"url\",\n                children: \"URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quick\",\n                children: \"Quick Reply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Text\",\n              value: b.text || '',\n              onChange: e => {\n                const copy = [...(d.buttons || [])];\n                copy[i] = {\n                  ...copy[i],\n                  text: e.target.value\n                };\n                updateNodeData({\n                  buttons: copy\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), b.type === 'url' ? /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"https://...\",\n              value: b.url || '',\n              onChange: e => {\n                const copy = [...(d.buttons || [])];\n                copy[i] = {\n                  ...copy[i],\n                  url: e.target.value\n                };\n                updateNodeData({\n                  buttons: copy\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"payload\",\n              value: b.payload || '',\n              onChange: e => {\n                const copy = [...(d.buttons || [])];\n                copy[i] = {\n                  ...copy[i],\n                  payload: e.target.value\n                };\n                updateNodeData({\n                  buttons: copy\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                const copy = [...(d.buttons || [])];\n                copy.splice(i, 1);\n                updateNodeData({\n                  buttons: copy\n                });\n              },\n              style: {\n                gridColumn: '1 / -1',\n                background: '#fee2e2',\n                border: '1px solid #fecaca',\n                borderRadius: 6,\n                padding: '6px 10px'\n              },\n              children: \"Remover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateNodeData({\n              buttons: [...(d.buttons || []), {\n                type: 'url',\n                text: '',\n                url: ''\n              }]\n            }),\n            style: {\n              background: '#eff6ff',\n              border: '1px solid #bfdbfe',\n              borderRadius: 6,\n              padding: '8px 10px'\n            },\n            children: \"+ Add button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), d.templateSid && tmplBody ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginTop: 12\n            },\n            children: \"Template preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            readOnly: true,\n            rows: 4,\n            value: tmplBody\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this);\n    }\n\n    // genérico\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Label\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: ((_selectedNode$data = selectedNode.data) === null || _selectedNode$data === void 0 ? void 0 : _selectedNode$data.label) || '',\n        onChange: e => updateNodeData({\n          label: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: '1fr 340px',\n      gap: 16,\n      height: 'calc(100vh - 140px)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          marginBottom: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addFreeForm,\n          children: \"+ FreeForm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: duplicateSelected,\n          children: \"Duplicar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteSelected,\n          children: \"Delete selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 'calc(100vh - 200px)',\n          border: '1px solid #e5e7eb',\n          borderRadius: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n          nodes: nodes,\n          edges: edges,\n          onNodesChange: onNodesChange,\n          onEdgesChange: onEdgesChange,\n          onConnect: onConnect,\n          onNodeClick: onNodeClick,\n          onSelectionChange: onSelectionChange,\n          nodeTypes: nodeTypes,\n          fitView: true\n          /* UX: pan/zoom/seleção “padrão” e pins fáceis */,\n          panOnDrag: true,\n          selectionOnDrag: false,\n          zoomOnScroll: true,\n          panOnScroll: false,\n          connectionRadius: 30,\n          defaultEdgeOptions: {\n            type: 'smoothstep'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Background, {\n            gap: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #e5e7eb',\n        borderRadius: 12,\n        padding: 12,\n        overflow: 'auto',\n        height: 'calc(100vh - 200px)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '6px 0 12px'\n        },\n        children: \"Propriedades do N\\xF3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), renderSidebar(), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16,\n          color: '#94a3b8',\n          fontSize: 12\n        },\n        children: [\"Dica: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 17\n        }, this), \" remove o n\\xF3 selecionado. Arraste a partir do pino para conectar.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n}\n_s(JourneyBuilder, \"VURhV3+Jc5FCXUWdREvcRoD1LG0=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c4 = JourneyBuilder;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"BoxNode\");\n$RefreshReg$(_c2, \"StartNode\");\n$RefreshReg$(_c3, \"EndNode\");\n$RefreshReg$(_c4, \"JourneyBuilder\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","ReactFlow","Background","Controls","MiniMap","addEdge","useEdgesState","useNodesState","FreeFormNode","jsxDEV","_jsxDEV","Fragment","_Fragment","BoxNode","data","selected","title","style","minWidth","background","border","borderRadius","padding","boxShadow","children","fontWeight","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","subtitle","className","_c","StartNode","props","_c2","EndNode","_c3","nodeTypes","start","end","freeform","START_X","START_Y","GAP_X","JourneyBuilder","_s","nodes","setNodes","onNodesChange","id","type","position","x","y","edges","setEdges","onEdgesChange","selectedId","setSelectedId","templates","setTemplates","fetch","then","r","json","d","contents","catch","selectedNode","find","n","updateNodeData","patch","ns","map","onConnect","params","already","e","source","alert","eds","onNodeClick","_","node","onSelectionChange","selNodes","length","addFreeForm","Date","now","label","channel","mode","text","mediaUrl","buttons","templateSid","duplicateSelected","pos","deleteSelected","filter","target","renderSidebar","_selectedNode$data","t","tmplBody","_Object$values$","tt","sid","Object","values","types","body","value","onChange","marginTop","friendly_name","rows","placeholder","b","i","display","gridTemplateColumns","gap","copy","url","payload","onClick","splice","gridColumn","readOnly","height","fitView","panOnDrag","selectionOnDrag","zoomOnScroll","panOnScroll","connectionRadius","defaultEdgeOptions","overflow","margin","_c4","$RefreshReg$"],"sources":["/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneyBuilder.jsx"],"sourcesContent":["// frontend/src/pages/JourneyBuilder.jsx\nimport React, { useEffect, useMemo, useState } from 'react';\nimport ReactFlow, {\n  Background,\n  Controls,\n  MiniMap,\n  addEdge,\n  useEdgesState,\n  useNodesState,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\n\nimport FreeFormNode from '../components/FreeFormNode';\n\n// Se você já tem MessageNode / ApiNode / CodeNode, importe aqui.\n// Exemplo placeholders simples:\nconst BoxNode = ({ data, selected, title }) => (\n  <div style={{\n    minWidth: 220, background: '#fff',\n    border: selected ? '2px solid #2563eb' : '1px solid #e5e7eb',\n    borderRadius: 12, padding: '12px 14px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.04)'\n  }}>\n    <div style={{ fontWeight: 700, marginBottom: 6 }}>{title}</div>\n    <div style={{ fontSize: 12, color: '#475569' }}>{data?.subtitle}</div>\n    <div className=\"react-flow__handle react-flow__handle-left\" />\n    <div className=\"react-flow__handle react-flow__handle-right\" />\n  </div>\n);\n\nconst StartNode = (props) => <BoxNode {...props} title=\"Start\" />;\nconst EndNode   = (props) => <BoxNode {...props} title=\"End\" />;\n\nconst nodeTypes = {\n  start: StartNode,\n  end: EndNode,\n  freeform: FreeFormNode,\n  // message: MessageNode,\n  // api: ApiNode,\n  // code: CodeNode,\n};\n\nconst START_X = 200, START_Y = 300, GAP_X = 320;\n\nexport default function JourneyBuilder() {\n  const [nodes, setNodes, onNodesChange] = useNodesState([\n    { id: 'start', type: 'start', position: { x: START_X, y: START_Y }, data: { subtitle: 'início do fluxo' } },\n    { id: 'end',   type: 'end',   position: { x: START_X + GAP_X * 2, y: START_Y - 20 }, data: { subtitle: 'término do fluxo' } },\n  ]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n\n  const [selectedId, setSelectedId] = useState(null);\n\n  // Templates Twilio (para painel e prévia)\n  const [templates, setTemplates] = useState([]);\n  useEffect(() => {\n    fetch('/api/templates/list')\n      .then(r => r.json())\n      .then(d => setTemplates(d?.contents || []))\n      .catch(() => setTemplates([]));\n  }, []);\n\n  // util: pega/atualiza nó selecionado\n  const selectedNode = useMemo(() => nodes.find(n => n.id === selectedId), [nodes, selectedId]);\n  const updateNodeData = (patch) => {\n    if (!selectedNode) return;\n    setNodes(ns => ns.map(n => n.id === selectedNode.id ? { ...n, data: { ...n.data, ...patch } } : n));\n  };\n\n  // RESTRIÇÃO: 1 (uma) saída por nó\n  const onConnect = (params) => {\n    const already = edges.find(e => e.source === params.source);\n    if (already) {\n      alert('Cada nó só pode ter 1 saída. Remova a ligação atual antes de criar outra.');\n      return;\n    }\n    setEdges(eds => addEdge({ ...params, type: 'smoothstep' }, eds));\n  };\n\n  // seleção de nó -> abre painel\n  const onNodeClick = (_, node) => setSelectedId(node.id);\n  const onSelectionChange = ({ nodes: selNodes }) => {\n    if (selNodes?.length) setSelectedId(selNodes[0].id);\n  };\n\n  // adicionar nós\n  const addFreeForm = () => {\n    const id = `free_${Date.now()}`;\n    setNodes(ns => ([\n      ...ns,\n      {\n        id,\n        type: 'freeform',\n        position: { x: START_X + GAP_X, y: START_Y + 140 },\n        data: {\n          label: 'Free Form',\n          channel: 'whatsapp',\n          mode: 'text',\n          text: 'Olá {{nome}}!',\n          mediaUrl: '',\n          buttons: [], // {type:'url'|'quick', text:'...', url/payload:'...'}\n          templateSid: '', // opcional: se quiser reaproveitar template\n        }\n      }\n    ]));\n    setSelectedId(id);\n  };\n\n  // duplicar / remover\n  const duplicateSelected = () => {\n    if (!selectedNode) return;\n    const id = `${selectedNode.type}_${Date.now()}`;\n    const pos = { x: selectedNode.position.x + 40, y: selectedNode.position.y + 40 };\n    setNodes(ns => [...ns, { ...selectedNode, id, position: pos }]);\n    setSelectedId(id);\n  };\n  const deleteSelected = () => {\n    if (!selectedNode) return;\n    setEdges(eds => eds.filter(e => e.source !== selectedNode.id && e.target !== selectedNode.id));\n    setNodes(ns => ns.filter(n => n.id !== selectedNode.id));\n    setSelectedId(null);\n  };\n\n  // painel – propriedades por tipo\n  const renderSidebar = () => {\n    if (!selectedNode) return <div style={{ color: '#94a3b8' }}>Selecione um nó</div>;\n    const t = selectedNode.type;\n\n    // FREEFORM\n    if (t === 'freeform') {\n      const d = selectedNode.data || {};\n      const tmplBody =\n        d.templateSid\n          ? (() => {\n              const t = templates.find(tt => tt.sid === d.templateSid);\n              return t ? (Object.values(t.types)[0]?.body || '') : '';\n            })()\n          : '';\n\n      return (\n        <div>\n          <label>Label</label>\n          <input\n            value={d.label || ''}\n            onChange={e => updateNodeData({ label: e.target.value })}\n          />\n\n          <label style={{ marginTop: 12 }}>Channel</label>\n          <select\n            value={d.channel || 'whatsapp'}\n            onChange={e => updateNodeData({ channel: e.target.value })}\n          >\n            <option value=\"whatsapp\">WhatsApp</option>\n            <option value=\"sms\">SMS</option>\n          </select>\n\n          <label style={{ marginTop: 12 }}>Mode</label>\n          <select\n            value={d.mode || 'text'}\n            onChange={e => updateNodeData({ mode: e.target.value })}\n          >\n            <option value=\"text\">Text</option>\n            <option value=\"image\">Image</option>\n            <option value=\"rich\">Rich (text + image + buttons)</option>\n          </select>\n\n          <label style={{ marginTop: 12 }}>Pick a Twilio template (optional)</label>\n          <select\n            value={d.templateSid || ''}\n            onChange={e => updateNodeData({ templateSid: e.target.value })}\n          >\n            <option value=\"\">— none —</option>\n            {templates.map(t => (\n              <option key={t.sid} value={t.sid}>{t.friendly_name}</option>\n            ))}\n          </select>\n\n          {(d.mode === 'text' || d.mode === 'rich') && (\n            <>\n              <label style={{ marginTop: 12 }}>Text</label>\n              <textarea\n                rows={4}\n                value={d.text || ''}\n                onChange={e => updateNodeData({ text: e.target.value })}\n              />\n            </>\n          )}\n\n          {(d.mode === 'image' || d.mode === 'rich') && (\n            <>\n              <label style={{ marginTop: 12 }}>Media URL</label>\n              <input\n                placeholder=\"https://...\"\n                value={d.mediaUrl || ''}\n                onChange={e => updateNodeData({ mediaUrl: e.target.value })}\n              />\n            </>\n          )}\n\n          {d.mode === 'rich' && (\n            <>\n              <label style={{ marginTop: 12 }}>Buttons</label>\n              {(d.buttons || []).map((b, i) => (\n                <div key={i} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 8, marginBottom: 8 }}>\n                  <select\n                    value={b.type}\n                    onChange={(e) => {\n                      const copy = [...(d.buttons || [])];\n                      copy[i] = { ...copy[i], type: e.target.value };\n                      updateNodeData({ buttons: copy });\n                    }}\n                  >\n                    <option value=\"url\">URL</option>\n                    <option value=\"quick\">Quick Reply</option>\n                  </select>\n                  <input\n                    placeholder=\"Text\"\n                    value={b.text || ''}\n                    onChange={(e) => {\n                      const copy = [...(d.buttons || [])];\n                      copy[i] = { ...copy[i], text: e.target.value };\n                      updateNodeData({ buttons: copy });\n                    }}\n                  />\n                  {b.type === 'url' ? (\n                    <input\n                      placeholder=\"https://...\"\n                      value={b.url || ''}\n                      onChange={(e) => {\n                        const copy = [...(d.buttons || [])];\n                        copy[i] = { ...copy[i], url: e.target.value };\n                        updateNodeData({ buttons: copy });\n                      }}\n                    />\n                  ) : (\n                    <input\n                      placeholder=\"payload\"\n                      value={b.payload || ''}\n                      onChange={(e) => {\n                        const copy = [...(d.buttons || [])];\n                        copy[i] = { ...copy[i], payload: e.target.value };\n                        updateNodeData({ buttons: copy });\n                      }}\n                    />\n                  )}\n                  <button\n                    onClick={() => {\n                      const copy = [...(d.buttons || [])];\n                      copy.splice(i, 1);\n                      updateNodeData({ buttons: copy });\n                    }}\n                    style={{ gridColumn: '1 / -1', background: '#fee2e2', border: '1px solid #fecaca', borderRadius: 6, padding: '6px 10px' }}\n                  >\n                    Remover\n                  </button>\n                </div>\n              ))}\n              <button\n                onClick={() => updateNodeData({ buttons: [...(d.buttons || []), { type: 'url', text: '', url: '' }] })}\n                style={{ background: '#eff6ff', border: '1px solid #bfdbfe', borderRadius: 6, padding: '8px 10px' }}\n              >\n                + Add button\n              </button>\n            </>\n          )}\n\n          {(d.templateSid && tmplBody) ? (\n            <>\n              <label style={{ marginTop: 12 }}>Template preview</label>\n              <textarea readOnly rows={4} value={tmplBody} />\n            </>\n          ) : null}\n        </div>\n      );\n    }\n\n    // genérico\n    return (\n      <div>\n        <label>Label</label>\n        <input\n          value={selectedNode.data?.label || ''}\n          onChange={e => updateNodeData({ label: e.target.value })}\n        />\n      </div>\n    );\n  };\n\n  return (\n    <div style={{ display: 'grid', gridTemplateColumns: '1fr 340px', gap: 16, height: 'calc(100vh - 140px)' }}>\n      <div>\n        <div style={{ display: 'flex', gap: 8, marginBottom: 10 }}>\n          <button onClick={addFreeForm}>+ FreeForm</button>\n          <button onClick={duplicateSelected}>Duplicar</button>\n          <button onClick={deleteSelected}>Delete selected</button>\n        </div>\n\n        <div style={{ height: 'calc(100vh - 200px)', border: '1px solid #e5e7eb', borderRadius: 12 }}>\n          <ReactFlow\n            nodes={nodes}\n            edges={edges}\n            onNodesChange={onNodesChange}\n            onEdgesChange={onEdgesChange}\n            onConnect={onConnect}\n            onNodeClick={onNodeClick}\n            onSelectionChange={onSelectionChange}\n            nodeTypes={nodeTypes}\n            fitView\n            /* UX: pan/zoom/seleção “padrão” e pins fáceis */\n            panOnDrag={true}\n            selectionOnDrag={false}\n            zoomOnScroll={true}\n            panOnScroll={false}\n            connectionRadius={30}\n            defaultEdgeOptions={{ type: 'smoothstep' }}\n          >\n            <Background gap={16} />\n            <MiniMap />\n            <Controls />\n          </ReactFlow>\n        </div>\n      </div>\n\n      <div style={{\n        border: '1px solid #e5e7eb', borderRadius: 12, padding: 12, overflow: 'auto',\n        height: 'calc(100vh - 200px)'\n      }}>\n        <h4 style={{ margin: '6px 0 12px' }}>Propriedades do Nó</h4>\n        {renderSidebar()}\n        <div style={{ marginTop: 16, color: '#94a3b8', fontSize: 12 }}>\n          Dica: <b>Delete</b> remove o nó selecionado. Arraste a partir do pino para conectar.\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}