{"ast":null,"code":"var _jsxFileName = \"/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneysPage.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/JourneysPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function JourneysPage() {\n  _s();\n  const navigate = useNavigate();\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // rename inline\n  const [editingId, setEditingId] = useState(null);\n  const [draftName, setDraftName] = useState('');\n  const load = async () => {\n    setLoading(true);\n    try {\n      const r = await fetch('/api/journeys');\n      const j = await r.json();\n      setRows(Array.isArray(j) ? j : []);\n    } catch (e) {\n      console.error(e);\n      setRows([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const handleOpen = id => navigate(`/journeys/builder?id=${id}`);\n  const handleNew = () => navigate(`/journeys/builder?new=1`);\n  const handleExport = async id => {\n    const r = await fetch(`/api/journeys/${id}`);\n    if (!r.ok) return alert('Erro ao baixar flow');\n    const flow = await r.json();\n    const blob = new Blob([JSON.stringify(flow, null, 2)], {\n      type: 'application/json'\n    });\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.download = `${(flow.name || 'flow').replace(/\\s+/g, '_')}.json`;\n    a.click();\n    URL.revokeObjectURL(a.href);\n  };\n  const handleDuplicate = async id => {\n    const r = await fetch(`/api/journeys/${id}/duplicate`, {\n      method: 'POST'\n    });\n    if (!r.ok) return alert('Erro ao duplicar');\n    await load();\n  };\n  const handleDelete = async id => {\n    if (!window.confirm('Apagar este flow?')) return;\n    const r = await fetch(`/api/journeys/${id}`, {\n      method: 'DELETE'\n    });\n    if (!r.ok) return alert('Erro ao apagar');\n    await load();\n  };\n\n  // === DISPARAR ===\n  async function disparar(flowId) {\n    const r = await fetch('/api/runs', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        flowId\n      }) // <— manda o ID do flow!\n    });\n    if (!r.ok) {\n      const err = await r.json().catch(() => ({}));\n      alert('Falha ao criar execução: ' + (err.error || r.statusText));\n      return;\n    }\n    // opcional: redirecionar para /runs\n    window.location.href = '/runs';\n  }\n  const startInlineRename = it => {\n    setEditingId(it.id);\n    setDraftName(it.name || '');\n  };\n  const cancelInlineRename = () => {\n    setEditingId(null);\n    setDraftName('');\n  };\n  const confirmInlineRename = async () => {\n    if (!editingId) return;\n    const r = await fetch(`/api/journeys/${editingId}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: draftName\n      })\n    });\n    if (!r.ok) {\n      alert('Erro ao renomear');\n      return;\n    }\n    setEditingId(null);\n    setDraftName('');\n    await load();\n  };\n\n  // importar flow (JSON)\n  const handleImport = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'application/json';\n    input.onchange = async ev => {\n      var _ev$target$files;\n      const f = (_ev$target$files = ev.target.files) === null || _ev$target$files === void 0 ? void 0 : _ev$target$files[0];\n      if (!f) return;\n      const r = new FileReader();\n      r.onload = async () => {\n        try {\n          const data = JSON.parse(r.result);\n          if (!Array.isArray(data.nodes) || !Array.isArray(data.edges)) {\n            alert('JSON inválido');\n            return;\n          }\n          const res = await fetch('/api/journeys', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: data.id,\n              name: data.name || 'Importado',\n              nodes: data.nodes,\n              edges: data.edges\n            })\n          });\n          if (!res.ok) return alert('Falha ao importar');\n          await load();\n        } catch {\n          alert('Falha ao ler JSON');\n        }\n      };\n      r.readAsText(f);\n    };\n    input.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Journeys\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-btn small\",\n          onClick: handleImport,\n          children: \"Importar Flow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-btn small\",\n          onClick: handleNew,\n          children: \"+ Novo Flow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        width: '100%',\n        borderCollapse: 'collapse',\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            textAlign: 'left',\n            borderBottom: '1px solid #eee'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '8px 6px'\n            },\n            children: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '8px 6px'\n            },\n            children: \"Atualizado em\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '8px 6px'\n            },\n            children: \"A\\xE7\\xF5es\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [rows.map(it => /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            borderBottom: '1px solid #f2f2f2'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '8px 6px'\n            },\n            children: editingId === it.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 6,\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                value: draftName,\n                onChange: e => setDraftName(e.target.value),\n                style: {\n                  padding: '6px 8px',\n                  border: '1px solid #d1d5db',\n                  borderRadius: 6,\n                  minWidth: 220\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-btn small\",\n                onClick: confirmInlineRename,\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-btn small\",\n                style: {\n                  background: '#e5e7eb',\n                  color: '#111'\n                },\n                onClick: cancelInlineRename,\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 19\n            }, this) :\n            /*#__PURE__*/\n            // clique no nome para editar\n            _jsxDEV(\"button\", {\n              onClick: () => startInlineRename(it),\n              style: {\n                background: 'transparent',\n                border: 'none',\n                padding: 0,\n                color: '#2563eb',\n                cursor: 'pointer',\n                fontWeight: 600\n              },\n              title: \"Clique para renomear\",\n              children: it.name || '(sem nome)'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '8px 6px',\n              color: '#555'\n            },\n            children: it.updatedAt ? new Date(it.updatedAt).toLocaleString() : '—'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '8px 6px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 8,\n                flexWrap: 'wrap'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-btn small\",\n                onClick: () => handleOpen(it.id),\n                children: \"Abrir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-btn small\",\n                onClick: () => handleExport(it.id),\n                children: \"Exportar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-btn small\",\n                onClick: () => handleDuplicate(it.id),\n                children: \"Duplicar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-btn small\",\n                style: {\n                  background: '#ef4444'\n                },\n                onClick: () => handleDelete(it.id),\n                children: \"Apagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"primary-btn small\",\n                onClick: () => handleLaunch(it.id),\n                children: \"Disparar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, it.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)), rows.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 3,\n            style: {\n              padding: 16,\n              color: '#666'\n            },\n            children: \"Nenhum flow cadastrado.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n_s(JourneysPage, \"mLA3WeBl91O9PaeTrn8iYlzCaVU=\", false, function () {\n  return [useNavigate];\n});\n_c = JourneysPage;\nvar _c;\n$RefreshReg$(_c, \"JourneysPage\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","JourneysPage","_s","navigate","rows","setRows","loading","setLoading","editingId","setEditingId","draftName","setDraftName","load","r","fetch","j","json","Array","isArray","e","console","error","handleOpen","id","handleNew","handleExport","ok","alert","flow","blob","Blob","JSON","stringify","type","a","document","createElement","href","URL","createObjectURL","download","name","replace","click","revokeObjectURL","handleDuplicate","method","handleDelete","window","confirm","disparar","flowId","headers","body","err","catch","statusText","location","startInlineRename","it","cancelInlineRename","confirmInlineRename","handleImport","input","accept","onchange","ev","_ev$target$files","f","target","files","FileReader","onload","data","parse","result","nodes","edges","res","readAsText","className","children","style","display","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","gap","onClick","width","borderCollapse","marginTop","textAlign","borderBottom","padding","map","value","onChange","border","borderRadius","minWidth","background","color","cursor","fontWeight","title","updatedAt","Date","toLocaleString","flexWrap","handleLaunch","length","colSpan","_c","$RefreshReg$"],"sources":["/Users/gustsantos/Desktop/initucastt/frontend/src/pages/JourneysPage.jsx"],"sourcesContent":["// frontend/src/pages/JourneysPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function JourneysPage() {\n  const navigate = useNavigate();\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // rename inline\n  const [editingId, setEditingId] = useState(null);\n  const [draftName, setDraftName] = useState('');\n\n  const load = async () => {\n    setLoading(true);\n    try {\n      const r = await fetch('/api/journeys');\n      const j = await r.json();\n      setRows(Array.isArray(j) ? j : []);\n    } catch (e) {\n      console.error(e);\n      setRows([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  const handleOpen = (id) => navigate(`/journeys/builder?id=${id}`);\n  const handleNew = () => navigate(`/journeys/builder?new=1`);\n\n  const handleExport = async (id) => {\n    const r = await fetch(`/api/journeys/${id}`);\n    if (!r.ok) return alert('Erro ao baixar flow');\n    const flow = await r.json();\n    const blob = new Blob([JSON.stringify(flow, null, 2)], { type: 'application/json' });\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.download = `${(flow.name || 'flow').replace(/\\s+/g, '_')}.json`;\n    a.click();\n    URL.revokeObjectURL(a.href);\n  };\n\n  const handleDuplicate = async (id) => {\n    const r = await fetch(`/api/journeys/${id}/duplicate`, { method: 'POST' });\n    if (!r.ok) return alert('Erro ao duplicar');\n    await load();\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Apagar este flow?')) return;\n    const r = await fetch(`/api/journeys/${id}`, { method: 'DELETE' });\n    if (!r.ok) return alert('Erro ao apagar');\n    await load();\n  };\n\n  // === DISPARAR ===\nasync function disparar(flowId) {\n  const r = await fetch('/api/runs', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ flowId }), // <— manda o ID do flow!\n  });\n  if (!r.ok) {\n    const err = await r.json().catch(()=>({}));\n    alert('Falha ao criar execução: ' + (err.error || r.statusText));\n    return;\n  }\n  // opcional: redirecionar para /runs\n  window.location.href = '/runs';\n}\n\n  const startInlineRename = (it) => {\n    setEditingId(it.id);\n    setDraftName(it.name || '');\n  };\n  const cancelInlineRename = () => {\n    setEditingId(null);\n    setDraftName('');\n  };\n  const confirmInlineRename = async () => {\n    if (!editingId) return;\n    const r = await fetch(`/api/journeys/${editingId}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ name: draftName }),\n    });\n    if (!r.ok) {\n      alert('Erro ao renomear');\n      return;\n    }\n    setEditingId(null);\n    setDraftName('');\n    await load();\n  };\n\n  // importar flow (JSON)\n  const handleImport = () => {\n    const input = document.createElement('input');\n    input.type = 'file'; input.accept = 'application/json';\n    input.onchange = async (ev) => {\n      const f = ev.target.files?.[0]; if (!f) return;\n      const r = new FileReader();\n      r.onload = async () => {\n        try {\n          const data = JSON.parse(r.result);\n          if (!Array.isArray(data.nodes) || !Array.isArray(data.edges)) {\n            alert('JSON inválido'); return;\n          }\n          const res = await fetch('/api/journeys', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              id: data.id, name: data.name || 'Importado',\n              nodes: data.nodes, edges: data.edges,\n            }),\n          });\n          if (!res.ok) return alert('Falha ao importar');\n          await load();\n        } catch { alert('Falha ao ler JSON'); }\n      };\n      r.readAsText(f);\n    };\n    input.click();\n  };\n\n  return (\n    <div className=\"page-content\">\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <h2>Journeys</h2>\n        <div style={{ display: 'flex', gap: 8 }}>\n          <button className=\"primary-btn small\" onClick={handleImport}>Importar Flow</button>\n          <button className=\"primary-btn small\" onClick={handleNew}>+ Novo Flow</button>\n        </div>\n      </div>\n\n      {loading && <div>Carregando…</div>}\n\n      <table style={{ width: '100%', borderCollapse: 'collapse', marginTop: 16 }}>\n        <thead>\n          <tr style={{ textAlign: 'left', borderBottom: '1px solid #eee' }}>\n            <th style={{ padding: '8px 6px' }}>Nome</th>\n            <th style={{ padding: '8px 6px' }}>Atualizado em</th>\n            <th style={{ padding: '8px 6px' }}>Ações</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map((it) => (\n            <tr key={it.id} style={{ borderBottom: '1px solid #f2f2f2' }}>\n              <td style={{ padding: '8px 6px' }}>\n                {editingId === it.id ? (\n                  <div style={{ display: 'flex', gap: 6, alignItems: 'center' }}>\n                    <input\n                      value={draftName}\n                      onChange={(e)=>setDraftName(e.target.value)}\n                      style={{ padding: '6px 8px', border: '1px solid #d1d5db', borderRadius: 6, minWidth: 220 }}\n                    />\n                    <button className=\"primary-btn small\" onClick={confirmInlineRename}>✓</button>\n                    <button className=\"primary-btn small\" style={{ background:'#e5e7eb', color:'#111' }} onClick={cancelInlineRename}>✕</button>\n                  </div>\n                ) : (\n                  // clique no nome para editar\n                  <button\n                    onClick={() => startInlineRename(it)}\n                    style={{ background:'transparent', border:'none', padding:0, color:'#2563eb', cursor:'pointer', fontWeight:600 }}\n                    title=\"Clique para renomear\"\n                  >\n                    {it.name || '(sem nome)'}\n                  </button>\n                )}\n              </td>\n              <td style={{ padding: '8px 6px', color:'#555' }}>\n                {it.updatedAt ? new Date(it.updatedAt).toLocaleString() : '—'}\n              </td>\n              <td style={{ padding: '8px 6px' }}>\n                <div style={{ display:'flex', gap:8, flexWrap:'wrap' }}>\n                  <button className=\"primary-btn small\" onClick={() => handleOpen(it.id)}>Abrir</button>\n                  <button className=\"primary-btn small\" onClick={() => handleExport(it.id)}>Exportar</button>\n                  <button className=\"primary-btn small\" onClick={() => handleDuplicate(it.id)}>Duplicar</button>\n                  <button className=\"primary-btn small\" style={{ background:'#ef4444' }} onClick={() => handleDelete(it.id)}>Apagar</button>\n                  <button className=\"primary-btn small\" onClick={() => handleLaunch(it.id)}>Disparar</button>\n                </div>\n              </td>\n            </tr>\n          ))}\n          {rows.length === 0 && !loading && (\n            <tr><td colSpan={3} style={{ padding: 16, color:'#666' }}>Nenhum flow cadastrado.</td></tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}